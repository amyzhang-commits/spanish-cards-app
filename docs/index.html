<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spanish Verb Trainer - Offline First</title>

    <!-- PWA Meta Tags -->
    <meta name="description" content="Offline-first Spanish verb conjugation trainer with Anki-style flashcards">
    <meta name="theme-color" content="#1e40af">
    <link rel="manifest" href="manifest.json">

    <!-- Icons for PWA -->
    <link rel="icon" type="image/x-icon" href="icons/favicon.ico">
    <link rel="apple-touch-icon" href="icons/icon-192.png">

    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!-- Offline Status Indicator -->
        <div id="offlineIndicator" class="offline-indicator" style="display: none;">
            ðŸ“± Working Offline
        </div>

        <!-- Sync Status Indicator -->
        <div id="syncIndicator" class="sync-indicator" style="display: none;">
            ðŸ”„ Syncing...
        </div>

        <header>
            <h1>ðŸ‡ªðŸ‡¸ <span class="gradient-text">Spanish Verb Trainer</span></h1>
            <div class="status-bar">
                <span id="cardCount">0 cards stored locally</span>
                <span id="syncStatus">Ready</span>
            </div>
            <nav>
                <a href="index.html" class="nav-link active">Conjugation Reference</a>
                <a href="study.html" class="nav-link">Study Cards</a>
                <a href="manage.html" class="nav-link">Manage Cards</a>
            </nav>
        </header>

        <main>
            <!-- Reference Section -->
            <section class="reference-section">
                <h2>ðŸ“š Spanish Tenses & Moods Reference</h2>
                <p>Learn about Spanish conjugation patterns before generating your flashcards</p>

                <div class="reference-grid">
                    <div class="mood-group">
                        <h3>ðŸ“Š Indicative Mood</h3>
                        <p class="mood-description">States facts, describes reality</p>

                        <div class="tense-list">
                            <div class="tense-item">
                                <h4>Present Indicative</h4>
                                <p>Describes actions happening now or habitual actions</p>
                                <small>Example: "Me cuesta mucho estudiar" (It's very difficult for me to study)</small>
                            </div>

                            <div class="tense-item">
                                <h4>Preterite</h4>
                                <p>Completed actions in the past with specific time</p>
                                <small>Example: "Su comentario dio en el clavo" (His comment hit the nail on the head)</small>
                            </div>

                            <div class="tense-item">
                                <h4>Imperfect</h4>
                                <p>Ongoing or habitual actions in the past</p>
                                <small>Example: "SolÃ­a correr todas las maÃ±anas" (I used to run every morning)</small>
                            </div>

                            <div class="tense-item">
                                <h4>Future</h4>
                                <p>Actions that will happen in the future</p>
                                <small>Example: "Lo verÃ© venir" (I'll see it coming)</small>
                            </div>

                            <div class="tense-item">
                                <h4>Present Perfect</h4>
                                <p>Actions completed recently or with present relevance</p>
                                <small>Example: "He comido como un rey" (I've eaten like a king)</small>
                            </div>

                            <div class="tense-item">
                                <h4>Past Perfect</h4>
                                <p>Actions completed before another past action</p>
                                <small>Example: "HabÃ­a llovido sobre mojado" (It had rained on wet ground - things going from bad to worse)</small>
                            </div>

                            <div class="tense-item">
                                <h4>Future Perfect</h4>
                                <p>Actions that will be completed before a future point</p>
                                <small>Example: "HabrÃ© terminado para entonces" (I will have finished by then)</small>
                            </div>
                        </div>
                    </div>

                    <div class="mood-group">
                        <h3>ðŸ¤” Subjunctive Mood</h3>
                        <p class="mood-description">Expresses doubt, emotion, desire, or hypothetical situations</p>

                        <div class="tense-list">
                            <div class="tense-item">
                                <h4>Present Subjunctive</h4>
                                <p>Used with present-time expressions of doubt or emotion</p>
                                <small>Example: "Que te vaya bien" (I hope it goes well for you)</small>
                            </div>

                            <div class="tense-item">
                                <h4>Imperfect Subjunctive</h4>
                                <p>Used with past-time expressions of doubt or emotion</p>
                                <small>Example: "Si yo fuera ricoâ€¦" (If I were richâ€¦)</small>
                            </div>

                            <div class="tense-item">
                                <h4>Future Subjunctive</h4>
                                <p>Rarely used, found in legal texts and proverbs</p>
                                <small>Example: "Si alguien hablare mal de tiâ€¦" (If someone speaks badly of youâ€¦)</small>
                            </div>

                            <div class="tense-item">
                                <h4>Present Perfect Subjunctive</h4>
                                <p>Completed actions in contexts requiring subjunctive</p>
                                <small>Example: "Espero que hayas estudiado bien" (I hope you have studied well)</small>
                            </div>

                            <div class="tense-item">
                                <h4>Past Perfect Subjunctive</h4>
                                <p>Past completed actions in hypothetical contexts</p>
                                <small>Example: "Si hubiera sabido, habrÃ­a venido" (If I had known, I would have come)</small>
                            </div>
                        </div>
                    </div>

                    <div class="mood-group">
                        <h3>ðŸ’­ Conditional Mood</h3>
                        <p class="mood-description">Expresses hypothetical or polite situations</p>

                        <div class="tense-list">
                            <div class="tense-item">
                                <h4>Simple Conditional</h4>
                                <p>What would happen under certain conditions</p>
                                <small>Example: "Yo que tÃº, hablarÃ­a con Ã©l" (If I were you, I would talk to him)</small>
                            </div>

                            <div class="tense-item">
                                <h4>Perfect Conditional</h4>
                                <p>What would have happened in the past</p>
                                <small>Example: "HabrÃ­a llegado antes, pero me retrasÃ©" (I would have arrived earlier, but I was delayed)</small>
                            </div>
                        </div>
                    </div>

                    <div class="mood-group">
                        <h3>âš¡ Imperative Mood</h3>
                        <p class="mood-description">Gives commands, requests, or instructions</p>

                        <div class="tense-list">
                            <div class="tense-item">
                                <h4>Affirmative Imperative</h4>
                                <p>Positive commands and requests</p>
                                <small>Example: "Â¡Di la verdad!" (Tell the truth!)</small>
                            </div>

                            <div class="tense-item">
                                <h4>Negative Imperative</h4>
                                <p>Negative commands using subjunctive forms</p>
                                <small>Example: "Â¡No digas tonterÃ­as!" (Don't talk nonsense!)</small>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- PWA Install Prompt -->
        <div id="installPrompt" class="install-prompt" style="display: none;">
            <div class="install-card">
                <h4>ðŸ“± Install App</h4>
                <p>Install Spanish Verb Trainer for offline access and better performance!</p>
                <div class="install-actions">
                    <button id="installBtn" class="btn-primary">Install App</button>
                    <button id="dismissInstallBtn" class="btn-secondary">Maybe Later</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/db.js"></script>
    <script src="js/sync.js"></script>
    <script src="js/app.js"></script>

    <!-- PWA Registration -->
    <script>
        // Register service worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then((registration) => {
                        console.log('SW registered: ', registration);
                    })
                    .catch((registrationError) => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }

        // Handle PWA install prompt
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            document.getElementById('installPrompt').style.display = 'block';
        });

        document.getElementById('installBtn').addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                console.log(`User response to the install prompt: ${outcome}`);
                deferredPrompt = null;
                document.getElementById('installPrompt').style.display = 'none';
            }
        });

        document.getElementById('dismissInstallBtn').addEventListener('click', () => {
            document.getElementById('installPrompt').style.display = 'none';
        });
    </script>
</body>
</html>